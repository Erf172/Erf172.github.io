{"meta":{"title":"某咸鱼的鱼缸","subtitle":"日常生(翻)活(车)的记录史","description":"你看不到我","author":"这不是lD","url":""},"pages":[],"posts":[{"title":"一些个人博客の安全设置","slug":"Some-Security-Settings-on-Blog","date":"2019-03-22T19:19:43.000Z","updated":"2019-03-23T14:57:03.198Z","comments":true,"path":"2019/03/23/Some-Security-Settings-on-Blog/","link":"","permalink":"/2019/03/23/Some-Security-Settings-on-Blog/","excerpt":"废了九牛二虎之力将自己的小博客搭起来了，结果服务器天天被炸。。。。既然这样，那就进行一些安全设置，确保不会被炸掉","text":"废了九牛二虎之力将自己的小博客搭起来了，结果服务器天天被炸。。。。既然这样，那就进行一些安全设置，确保不会被炸掉 前言前段时间发现学生主机真的好便宜，忍不住入手了一个。既然入手了，那就搭一个博客吧。废了老半天将博客搭建了起来，本以为只需要经常并不是写一下文章就可以了。结果ssh连上去发现ssh 22端口被炸了几千回。。。。没有办法，只能采取一些措施了，防止哪天被爆破掉。。。当然，用一个比较强的密码也是可以的，主要是记性不好再进行一下安全设置岂不是双倍的快乐？ 主要采用的措施 创建一个git账户 分别为git 和root 账户设置不同的秘钥登录 只赋予git账户git权限 禁用账户的密码登录方式，只保留key登录方式 修改ssh 22端口为其他端口 启用HTTPS 开搞创建git账户，只赋予git权限 ssh上远程服务器，并执行以下命令来创建账户 123456## 在root账户下进行操作useradd gitpasswd git # 此处创建一个git账户的密码mkdir /home/gitchown git:git -R /home/gitsu git #切换为git账户进行操作 在git账户下创建blog.git 执行以下命令 1234mkdir ~/blogcd ~/bloggit init --bare blog.gitcd blog.git/hooks 在hooks下新建一个 post-receive文件，并添加以下内容 1git --work-tree=/home/blog/www --git-dir=/home/git/blog/blog.git checkout -f 赋予post-receive可执行的权限 1chmod a+x post-receive 修改nginx的配置文件指向/home/git/blog/www 按下Ctrl+D，切换当前git账户为root账户，并修改nginx.conf的文件配置 12# 不同的nginx安装方式可能nginx.conf的所在位置有所不同vi /etc/nginx/nginx.conf 找到http项，在里面添加以下内容12345server &#123; server_name xxxx.com; index index.html index.htm index.php default.html default.htm default.php; root /home/git;&#125; 分别为git和root账户添加不同的密钥 创建git账户的密钥 创建git账户的话可以不在秘钥中添加密码，以实现免密码同步在本地计算机上打开终端，依次执行以下命令 12345ssh-keygen -t rsa -C xx@xx.com # 你的GitHub邮箱~~也可以任意内容~~# 之后连续按3次回车，保存秘钥文件,文件默认在`~/.ssh/`下chmod 700 ~/.sshchmod 600 ~/.ssh/id_rsascp ~/.ssh/id_rsa.pub git@xxxxx:~/.ssh # xxxxx 为你的服务器地址 使用root账户ssh连接到远程服务器，执行以下命令 12345su git cd ~/.ssh/mv id_rsa.pub authorized_keyschmod 600 authorized_keyscd .. &amp;&amp; chmod 700 .ssh/ 创建root秘钥 处于保险起见，我们为root账户再次创建一个秘钥，这次再秘钥中添加上密码，以保证安全 将当前git账户切换为root账户，然后执行以下命令 123456789cd ~ssh-keygen# 第一次回车，选定秘钥存放位置，保持默认即可# 第二三次回车，设置&amp;&amp;确认创建的秘钥的密码cd .sshmv id_rsa.pub authorized_keyschmod 600 authorized_keys cd .. &amp;&amp; chmod 700 .sshcat .ssh/id_rsa 将id_rsa的文件内容复制到本地，保存为key并设置权限为600 禁用密码登录并开启密钥登录 在root账户下执行以下命令 1vi /etc/ssh/sshd_config 修改 PasswordAuthorization 项为NO并去掉前方#号修改 GPGAuthorization 以及 RSAAuthorization为yes (默认是开启状态) 保存并退出，重启ssh服务 1/etc/init.d/ssh restart 此时断开连接，再次登录会发现只能使用密钥登录了 注意：强烈建议先启用密钥登录，断开连接并使用密钥登录成功后再关闭密码登录不要问我为什么强烈建议这么干 只赋予git账户git的权限使用root连接上远程服务器，修改passwd文件 1vi /etc/passwd 将git后面的shell更改为/usr/bin/git-shell 保存并退出，此时输入切换git账户会报错并无法切换 报错是正常现象，不用担心 修改ssh默认22端口为其他端口 在远程服务器上修改sshd_config文件 1vi /etc/ssh/sshd_config 修改port为其他端口，端口号大于10000都可以 重新启动ssh服务 1/erc/init.d/ssh restart 重新断开连接，会发现使用ssh无法使用22端口登录，需要改为当前设定端口我号要没了 如果修改失败并且无法登录了，可通过服务器管理网页上的vnc连接来重复上述步骤进行修改 再次不要问我为什么知道 hexo中的配置修改 _config.yml,添加以下内容 123456# aaaa为你的服务器地址，bbbb为你的设置的端口号deploy: type: git repo: server: ssh://git@aaaa:bbbb/home/git/blog/blog.git branch: master 这样就可以执行hexo d 将本地文件推动到远程服务器上了 启用https登录HTTPS证书的话免费的有很多，在这里以使用Let’sEncrypt为例 Let‘s Enycrypt 的https的证书可以在 这个网站这里按照提示快速安装，这里以nginx Ubuntu16.04 LTS为例 在上述网站选择合适的系统类型，这里选择nginx、Ubuntu 16.04 LTS 并确定 点击确定，稍后的页面会给出安装的命令，复制到远程的服务器上运行即可 然后执行以下命令进行自动安装 1certbot --nginx 自动安装后再次访问主页面即可发现网页已经启用https了 启动https证书的自动续期 执行以下命令 1certbot renew --dry-run 后记折腾了一大堆，安全措施差不多就ok，当然，最保险的还是定期更换一下，以保证不会被黑掉 折腾的过程真的掉头发，想想下面该写点什么 我爱单片机，单片机使我快乐","categories":[],"tags":[{"name":"Blog","slug":"Blog","permalink":"/tags/Blog/"}]},{"title":"联想小新锐7000の黑苹果折腾记(二)","slug":"Hackintosh-Installation-on-Lenovo-Xiaoxin-Rui7000-2","date":"2019-02-17T17:20:22.000Z","updated":"2019-03-21T14:08:14.945Z","comments":true,"path":"2019/02/18/Hackintosh-Installation-on-Lenovo-Xiaoxin-Rui7000-2/","link":"","permalink":"/2019/02/18/Hackintosh-Installation-on-Lenovo-Xiaoxin-Rui7000-2/","excerpt":"经过上一次的折(翻)腾(车)，系统我们已经安装好了。下面我们进行苹果系统的调试工作注意，这个过程可能会多次翻车。一定要有耐心233333","text":"经过上一次的折(翻)腾(车)，系统我们已经安装好了。下面我们进行苹果系统的调试工作注意，这个过程可能会多次翻车。一定要有耐心233333 前言下面的修改工作可以分为以下几个部分，大家可以按需阅读233333不过我还是建议通读一遍，以保证系统的稳定运行 将CLOVER系统文件移动到硬盘的EFI分区中屏蔽独显&amp;核显的驱动正确驱动核显修复亮度调节正确驱动声卡正确驱动网卡USB端口注入开启CPU变频启用睡眠 安装后的调试工作将CLOVER移动至系统EFI分区中 打开终端，输入以下命令来查看本地EFI引导的磁盘分区 1diskutil list 确定磁盘分区之后，输入以下命令。比如，我的磁盘EFI分区是disk0s2，优盘的EFI分区是disk4s2 12sudo diskutil mount disk0s2sudo diskutil mount disk4s1 打开访达，分别打开本地磁盘上的EFI分区以及优盘上的EFI分区 将CLOVER文件夹复制到磁盘的EFI目录下 在Windows下下载BOOTICE并打开 其实这里可以先在macOS下继续下面的操作，然后重启的时候再搞为什么不直接在Windows下搞呢？因为Windows下需要权限才能访问EFI分区。。 选择你EFI分区所在的磁盘，然后打开分区编辑选项 在分区管理页面里面选择ESP分区&gt;分配盘符然后确定就好 关闭分区管理，依次点击UEFI&gt;修改启动设置 然后在启动项修改页面中点击添加，选择EFI&gt;&gt;CLOVER&gt;&gt;CLOVERX64.efi 修改完成后保存并将其移动到最顶端 屏蔽独显&amp;核显的驱动 打开App Store ，搜索Xcode并安装 打开终端，依次输入以下命令 12345678cd Desktopmkdir Hackintosh_Project&amp;&amp;cd Hackintosh_Projectgit clone https://github.com/RehabMan/OS-X-Clover-Laptop-Config.gitgit clone https://github.com/acpica/acpica.gitcd acpicamake -j8 cd .. &amp;&amp; cd OS-X-Clover-Laptop-Config/hotpatchiasl SSDT-DDGPU.dsl SSDT-PNLF.dsl SSDT-IGPU.dsl SSDT-GPRW.dsl SSDT-PTSWAK.dsl SSDT-XOSI.dsl SSDT-ALS0.dsl 如果提示找不到iasl的话，可以使用下列命令安装后再次进入OS-X-Clover-Laptop-Config/hotpatch进行编译cd ~/Desktop/Hackintosh_project/acpia/ &amp;&amp; sudo make install我的电脑都编译的话莫名其妙会报错，所以只编译了一些需要的文件正常情况下直接在OS-X-Clover-Laptop-Config下执行make即可 分别下载Maciasl、下载 Clover Configurator、Hackintool，保存在桌面备用 将本地磁盘的EFI分区挂载，删除CLOVER/ACPI/patched 将 Hackintosh_Project/Hackintosh_Project/OS-X-Clover-Laptop-Config/hotpatch 下的 SSDT-DDGPU.aml SSDT-IGPU.aml 复制到CLOVER/ACPI/patched 打开Clover Configurator，然后选择EFI/CLOVER/config.plist 并进行以下操作后保存 ACPI:删除patches下的change PCI0.VID to IGPU #1 (Thinkpad)和change PCI0.VID to IGPU #2 (Thinkpad)Boot:删除-disablegfxfirmware参数Devices:删除所有Add Properties选项Graphics:取消勾选Inject ATI ,Injecr Nvdia选项SystemParameters:将inject Kexts修改为YES 点击Properties，并进行如下的设置 去掉#1 framebuffer-con1-alldata、#1 framebuffer-con1-enable、#framebuffer-con1-type前面的#号然后分别添加以下参数 Properties Key Properties Value Value Type disable-external-gpu 01000000 Data enable-hdmi20 01000000 Data framebuffer-portcount 02000000 Data 剩下的#号部分可以删除 重启即可完成独显的屏蔽以及核显的驱动。 倘若卡住无法进入系统，可以先将在clover引导界面中依次选择Opinions&gt;Graphics Injector将FakeID 改成0x12345678即可进入系统 亮度调节的修复 下载ApplebacklightFixup 将SSDT—PNLF.aml复制到EFI/CLOVER/ACPI/patched下 将AppleBacklightFixup.kext复制到EFI/CLOVER/kexts/Other下 复制Hackintosh_Project/OS-X-Clover-Laptop-Config/hotpatch下的SSDT-ALS0.aml到EFI/CLOVER/ACPI/patched下 下载Kext Utility,打开刷新缓存后重启即可修复亮度 倘若亮度没有修复，可以打开Kext Utility 并将ApplebacklightFixup.kext 拖入安装到S/L/E后重启即可 声卡的驱动 下载AppleALC 将AppleALC.kext复制到/EFI/CCLOVER/kexts/Other下 打开Clover Configurator，进行以下设置并保存 Devices:删除PciRoot(0x0)/Pci(0x1f,0x3)下的所有参数，新建项加入以下参数 Properties Key Properties Value Value Type layout-id 1C000000 DATA 用kext Utility刷新缓存重启即可 网卡的驱动 电脑自带的Realtek(或者Intel)无线网卡是无法驱动的，所以我更换了博通的BCM94352z无线网卡 下载BrcmPatchRAM和AirportBrcmFixup 将BrcmPatchRAM下的 BrcmFirmwareData.kext、BrcmPatchRAM2.kext 以及AirportBrcmFixup下的AirportBrcmFixup.kext复制到/EFI/CLOVER/kexts/Other下 用kext Utility刷新缓存重启即可 倘若出现睡眠后失灵的状况，可以将以上3个kext文件安装到S/L/E下即可解决 USB端口注入 打开hackintool，点击usb图标 分别用一个usb2.0与usb3.0的设备在电脑上的3个usb3.0的设备插拔一次 将非绿色的端口全部删除，即保留HS01、HS02、HS03、HS05、HS07、SS01、SS02 点击下方的Export图标，将生成的USBport.kext放EFI/CLOVER/kexts/Other下，并删除USBinjectAll.kext 将hotpatch下的SSDT-XOSI.aml 复制到/EFI/CLOVER/ACPI/Patched下 修改config.plist，在ACPI:Patched 添加以下内容（可以从hotpatch下的config.plist复制) Comment Find Replace change _OSI to XOSI, pair with SSDT-XOSI.aml 5F4F5349 584F5349 刷新缓存并重启即可 CPU变频开启 打开终端，执行以下命令 123cd ~/Desktop/Hackintosh_Projectgit clone https://github.com/acidanthera/CPUFriend.gitcp /System/Library/Extensions/IOPlatformPluginFamily.kext/Contents/PlugIns/X86PlatformPlugin.kext/Contents/Resources/Mac-B4831CEBD52A0C4C.plist ~/Desktop/Hackintosh_Project/CPUFriend/ResouceConverter 打开Xcode编辑Mac-B4831CEBD52A0C4C.plist进行以下修改 在Root&gt;IOPlatformPowerProfile中添加以下选项 Key Type Value power_reduced_playback Boolean Yes thermally_optimized_xcode Boolean Yes thermally_optimized_maps Boolean Yes optimized_photobooth Boolean Yes optimized_screensavers Boolean Yes optimized_slideshows Boolean Yes optimized_visualizers Boolean Yes 在Frequencies 中添加一行键值为3800在FrequencyVectors 复制其中一行的键值，index与Frequencies中的3800相对应，并将第二组数据改成08000000他们看起来是这个样子的 打开终端执行以下命令 1234cd ~/Desktop/Hackintosh_Project/CPUFriend/ResouceConverter./ResourceConverter.sh --kext Mac-B4831CEBD52A0C4C.plist./ResourceConverter.sh --acpi Mac-B4831CEBD52A0C4C.plistsudo cp Mac-B4831CEBD52A0C4C.plist /System/Library/Extensions/IOPlatformPluginFamily.kext/Contents/PlugIns/X86PlatformPlugin.kext/Contents/Resources/Mac-B4831CEBD52A0C4C.plist 新建终端，执行以下命令 123curl -o ~/ssdtPRGen.sh https://raw.githubusercontent.com/Piker-Alpha/ssdtPRGen.sh/Beta/ssdtPRGen.shchmod +x ~/ssdtPRGen.shsudo ~/ssdtPRGen.sh 编辑生成的ssdt.dsl文件，将刚才生成的ssdt_data 中的cf-frequency-data复制到Method (_DSM, 4, NotSerialized)中，并Package（0x02）改为Package（0x04），将文件保存为aml后退出 将刚修改的ssdt.aml复制到/EFI/CLOVER/ACPI/Patched中，将CPUFriend.kext、CPUFriendProvider.kext放到/EFI/CLOVER/kexts/Other里 刷新缓存重启即可 启用睡眠 将前文中编译的SSDT-GPRW.aml SSDT-PTSWAK.aml 复制到/EFI/CLOVER/ACPI/Patched中 用CloverConfigurator打开config.plist,在ACPI/Patched中添加如下选项(可以从hotpatch下的config中复制) Comment Find Replace change Method(_PTS,1,N) to ZPTS, pair with SSDT-PTSWAK.aml 5F505453 01 5A505453 01 change Method(_WAK,1,N) to ZWAK, pair with SSDT-PTSWAK.aml 5F57414B 01 5A57414B 01 change Method(GPRW,2,N) to XPRW, pair with SSDT-GPRW.aml 47505257 02 58505257 02 保存重启即可 注意：倘若之前在BIOS中关闭了显卡，可能会导致启动时卡在+++不动 显示器EDID的注入 使用HDMI的时候可能会导致笔记本屏幕黑屏，可以通过注入edid解决 打开hackintool，点击显示器，设置一个合适的屏幕类型点击屏幕下方的+号添加分辨率后再点击生成按键 将生成的DisplayVendorID-6af放到/System/Library/Displays/Contents/Resources/Override 下即可 刷新缓存并重启即可 如果无效或者启动后显示屏黑屏，可以考虑外接显示器或者进入恢复模式删除edid文件 后记 EFI 地址:Github 到这里黑苹果调试的差不多了，就可以使用了。当然还有很多地方没有修复，以后会慢慢修复的。。。 一时咸鱼一时爽，一直咸鱼一直爽","categories":[{"name":"Guide","slug":"Guide","permalink":"/categories/Guide/"}],"tags":[{"name":"系统安装","slug":"系统安装","permalink":"/tags/系统安装/"},{"name":"MacOS","slug":"MacOS","permalink":"/tags/MacOS/"}]},{"title":"联想小新锐7000の黑苹果折腾记(一)","slug":"Hackintosh-Installation-on-Lenovo-Xiaoxin-Rui7000-1","date":"2019-02-12T16:47:34.000Z","updated":"2019-03-22T05:05:11.028Z","comments":true,"path":"2019/02/13/Hackintosh-Installation-on-Lenovo-Xiaoxin-Rui7000-1/","link":"","permalink":"/2019/02/13/Hackintosh-Installation-on-Lenovo-Xiaoxin-Rui7000-1/","excerpt":"在经历了让人头秃的期末考试之后，终于可以着手继续折腾黑苹果了2333333经过无数次翻车与删库跑路之后，终于调整成了可以使用的样子，特此记录一下下，怀念我失去的头发。。。。","text":"在经历了让人头秃的期末考试之后，终于可以着手继续折腾黑苹果了2333333经过无数次翻车与删库跑路之后，终于调整成了可以使用的样子，特此记录一下下，怀念我失去的头发。。。。 前言电脑配置明细 部件 信息 CPU Intel(R) Core(TM) i7-7700HQ CPU @ 2.80GHz 内存 8g DDR4 2400Mhz x2 存储 TOSHIBA Xg3 256G Nvme TOSHIBA 1TB 5400RPM HDD 显卡 Intel HD Graphics 630 NVIDIA GeForce GTX 1050 声卡 Realtek ALC235 有线网卡 Realtek RTL8111 PCI-E Gigabit Ethernet Adapter 无线网卡 Broadcom BCM94352z 802.11ac Wireless Network Adapter 系统截图 已知问题 亮度快捷按键调节不可用 亮度的最后一档相当于黑屏 FaceTime &amp; IMessage 不可用 (可以自己手动洗白) 适用于的系统 macOS High Sierra 10.13.6 macOS Mojave 10.14 准备工具 容量大于等于8G的优盘 笔记本电脑 网线(或者使用手机开启USB网络共享) 系统镜像是采用的黑果小兵大佬制作的macOS High Sierra 10.13.6(17G2112) Installer with Clover 4606镜像，在这里感谢黑果小兵大佬教程可能会比较啰嗦，希望大家能够体谅一下233333部分网站可能需要加速才能顺利访问，自备工具 安装前的准备工作下载MacOS系统安装镜像以及启动盘的制作 在Windows下下载macOS High Sierra 10.13.6(17G2112) Installer with Clover 4606镜像 下载etcher并安装 插入优盘，打开etcher，选择下载好的镜像并选择优盘写入 注意，写入镜像会清除优盘的所有数据，请注意备份文件 Windows下macOS虚拟机的创建 下载并安装VirtualBox 打开VirtualBox，点击管理&gt;全局设定&gt;扩展，安装扩展程序(需要将许可拉到最底下才能同意) 新建MacOS的虚拟机并将硬件设置中的核心数以及内存占用适当调大一些 在Mac虚拟机的设置&gt;USB设备中添加制作好系统镜像的优盘 打开CMD窗口，并输入以下命令 1234567891011121314# Mac为你所创建的虚拟机名称cd &quot;C:\\Program Files\\Oracle\\VirtualBox&quot;VBoxManage.exe modifyvm &quot;Mac&quot; --cpuidset 00000001 000106e5 00100800 0098e3fd bfebfbffVBoxManage setextradata &quot;Mac&quot; &quot;VBoxInternal/Devices/efi/0/Config/DmiSystemProduct&quot; &quot;iMac11,3&quot;VBoxManage setextradata &quot;Mac&quot; &quot;VBoxInternal/Devices/efi/0/Config/DmiSystemVersion&quot; &quot;1.0&quot;VBoxManage setextradata &quot;Mac&quot; &quot;VBoxInternal/Devices/efi/0/Config/DmiBoardProduct&quot; &quot;Iloveapple&quot;VBoxManage setextradata &quot;Mac&quot; &quot;VBoxInternal/Devices/smc/0/Config/DeviceKey&quot; &quot;ourhardworkbythesewordsguardedpleasedontsteal(c)AppleComputerInc&quot;VBoxManage setextradata &quot;Mac&quot; &quot;VBoxInternal/Devices/smc/0/Config/GetKeyFromRealSMC&quot; 1 设置完成之后启动虚拟机，在EFIshell中输入exit进入BIOS进行设置 依次选择Boot Maintenance Mamager&gt;&gt;Boot From File&gt;&gt;”\\,xxxxxxxxxx(不是EFI)”&gt;&gt;System&gt;&gt;Library&gt;&gt;CoreService&gt;&gt;boot.efi稍等片刻即可进入安装界面 MacOS系统的安装 选择简体中文后在弹出的MacOS使用工具中选择磁盘工具 抹掉相应的磁盘(不知道那一块硬盘可以先选择显示所有宗卷) 完成后关闭磁盘工具，选择安装MacOS 一路下一步，选择安装到刚才抹掉的磁盘中后请耐心等待重启 重启后再次进入BIOS中选择Boot Maintenance Mamager&gt;&gt;Boot From File&gt;&gt;”\\,xxxxxxxxxx(带有SATA字样)”&gt;&gt;MacOS Install Data&gt;&gt;Locked Files&gt;&gt;Boot Files&gt;&gt;boot.efi并耐心等待 安装完成后便进入系统自定义设置部分，一路下一步即可 注意：在自定义设置中尽量不要连接网络 Clover 的安装 将优盘挂载到虚拟机中 打开终端并输入以下命令 1diskutil list 找到你优盘的EFI分区的 IDENTIFIER ，例如，我的是disk2s1，则输入以下命令 1sudo diskutil mount disk2s1 将EFI 里的文件复制到桌面备用并删除优盘EFI分区的文件 下载Clover并打开 选择安装到你的优盘中 点击自定，并依次勾选以下设置 仅安装UEFI开机版本安装RCScripts到目标磁区UEFIDrivers和 FileVault2 UEFIDrivers中勾选下列选项 AptioMemoryFix-64.efi DataHubDxe-64.efi HFSPlus.efi SMCHelper-64.efiAppleImageLoader-64.efi AudioDxe-64.efi EmuVariableUefi-64.efi NvmExpressDxe-64.efi VirtualSmc.efiAptioInputFix-64.efi CsmVideoDxe-64.efi FSInject-64.efi OsxAptioFix3Drv-64.efi 检查无误后点击确定，输入密码安装即可 EFI文件的初步配置 下载HoRNDIS并放到优盘EFI分区下(安装系统完成之后进行安装) 下载 Clover Configurator 保存到桌面备用 打开终端，依次输入以下命令 1234cd Desktopmkdir project &amp;&amp; cd projectcurl -O https://raw.githubusercontent.com/RehabMan/OS-X-Clover-Laptop-Config/master/config_HD615_620_630_640_650.plistcurl -O https://github.com/Erf172/Lenovo_XiaoXin_Rui7000_Hackintosh/raw/10.13/CLOVER/drivers64UEFI/ApfsDriverLoader-64.efi 打开project,复制config_HD615_620_630_640_650.plist到优盘的EFI&gt;&gt;Clover下并将其改名为config.plist 打开 Clover Configurator，选择优盘EFI目录下的config.plist文件依次进行以下的设置并保存 Boot&gt;Arguments 中右键添加”-v -debug=0x100 -nv_disable=1”选项Devices 中删除所有Add Properties选项Graphics 取消Inject ATI、Inject NVIDIA选项SMIBIOS 设置成MacBook Pro14,1 分别下载以下文件，并放到EFI&gt;&gt;Clover&gt;&gt;kexts&gt;&gt;others VirtualSMC.kextSMCBatteryManager.kextUSBInjectALL.kextLilu.kextWhateverGreen.kextVoodooPS2Controller.kextRealtekRTL8111.kextApplePS2SmartTouchpad.kextNoTouchID.kext 将project下的ApfsDriverLoader-64.efi与VirtualSMC文件夹下的VirtualSMC.efi复制EFI&gt;&gt;Clover&gt;&gt;drivers64UEFI下 最后，他们看起来应该是这个样子的 压缩磁盘，分出相应的安装空间 右击计算机，依次点击管理&gt;磁盘管理 右击你想要压缩的磁盘，选择压缩卷，在弹出来的对话框中选择合适的大小(建议不小于40G)并点击确定 右击压缩出现的空白区域，选择创建简单卷，一路下一步即可 至此，黑苹果前期的准备工作就OK了，下面将进入正式的安装阶段 Bios的相关设置 用以下三种方法中的一种进入电脑的bios 在关机的状态下用尖锐物品按一下右侧的重启按键开机的时候狂按F2或者Fn+F2在Windows 10中，按住shift键并点击重启，依次点击高级选项&gt;UEFI固件设置 在进入的Bios界面中依次设置以下选项 Security&gt;Secure Boot&gt;Disabled Boot&gt;Boot Priority Order&gt;优盘选项移动到最顶端 确认设置无误后，按下F10或者Fn+F10进行保存。如果一切正常的话，就可以引导进入Clover的引导界面 正式的安装步骤 在Clover BOOT引导界面中，选择Boot OS X Install From xxx(xxx为你的优盘名称) 稍等片刻即可进入安装过程，此过程的安装步骤与在虚拟机的安装步骤相似，参考上文进行安装即可 安装完成后会自动重启，再次进入Clover的引导界面，会发现多出几个选项，选择安装Boot OS X install From yyy(非优盘项) 下面便进入自动安装的过程，可能会重启几次，耐心等待即可。 安装完成后再引导界面选择boot macOS from xxx(xxx为你的安装磁盘名称名称) 稍等片刻进入个性化设置阶段，视情况设置即可 设置完成之后进入桌面，至此，黑苹果的系统安装完毕。 后记至此为止，我们的安装阶段就完成了。恭喜你已经完成了一个小小的开头。因为进入系统后，你可能会发现这只是安装了系统而已，什么东西都是残的。什么功能都是不完整的。你可能会怀疑人生，为什么折腾这么久才完成了一个小小的开头。不要慌张，不要心急，最麻烦的地方不在于安装系统，而是对EFI文件进行调整。在下一篇文章中，我将会告诉大家如何进行系黑苹果配置工作。让他能够更加完美。为什么不分开来写呢，应为调整的过程实在是太长了，如果一篇文章写下来的话，可能我连自己写下去的耐心都不会有。才不是为了凑一下文章的数目下一篇文章我会尽快写完的坚决不是flag.jpg 传送门 ： 联想小新锐7000の黑苹果折腾记(二)","categories":[{"name":"Guide","slug":"Guide","permalink":"/categories/Guide/"}],"tags":[{"name":"系统安装","slug":"系统安装","permalink":"/tags/系统安装/"},{"name":"MacOS","slug":"MacOS","permalink":"/tags/MacOS/"}]},{"title":"Linux不能正常安装或启动の部分解决方法","slug":"how-to-slove-Linux-cannot-boot","date":"2018-12-01T11:25:19.000Z","updated":"2019-03-10T06:54:01.102Z","comments":true,"path":"2018/12/01/how-to-slove-Linux-cannot-boot/","link":"","permalink":"/2018/12/01/how-to-slove-Linux-cannot-boot/","excerpt":"前段时间安装Linux。结果安装过程各种各种报错接踵而来。。。查了半天资料，问题也解决的差不多了。特此记录一下下。","text":"前段时间安装Linux。结果安装过程各种各种报错接踵而来。。。查了半天资料，问题也解决的差不多了。特此记录一下下。 适用情况这篇文章适用于以下问题的解决方案 无法进入安装界面，疯狂刷“pci bus error“等类似的错误信息 安装完成后，启动时无法进入桌面。 进入桌面后重启/注销卡住，无法正常重启/注销 更新了内核或一些软件后出现以上的问题 以下的解决方法均以Manjaro 18.0为例。不同Linux发行版的操作方式大同小异 解决方法A————禁用nouveau报错的原因有一部分是因为Linux自带的nouveau驱动存在问题，所以才会导致安装出现上述问题。所以，我们只要将其自带的驱动禁用掉即可解决 安装过程禁用 在优盘引导安装的界面中，不要直接进行安装。移动到BOOT：xxx 后，按一下e键进入grub的编辑模式 在grub的编辑模式中，找到Linux的那一行，在最后面添加一下信息 1modprobe.blacklist=nouveau 添加完成后，按下Ctrl+X或者F10 进行安装。便可以进行正常的安装 第一次启动安装后可以按照以上操作步骤进行操作即可进入桌面 （或者如果是因为更新造成的问题，可以在grub引导界面中选择低版本的内核启动） 进入启动过程后修改启动文件 打开终端，修改 /etc/default/grub 1sudo vi /etc/default/grub 在 GRUB_CMDLINE_LINUX_DEFAULT 行中添加以下内容并保存 1modprobe.blacklist=nouveau 修改完成后更新grub引导 1sudo update-grub 至此系统便可以正常使用了 解决方法B————安装较低版本内核如果上面的方法不好使，可以使用一下的方法进行解决 进入Bios设置，禁用独立显卡、无线网卡按照正常安装方式进行安装进入系统桌面后，手动安装Linux 4.9.x版本的内核并重启至此系统便也可以正常使用了 后记上面的解决方法，个人感觉第一种方法解决的比较彻底。第二中我也用过一段时间（4.9的内核苟了大半年。。。），感觉只可以临时解决问题，并不是长久之计。 （不是所有的电脑都能完美的安装Linux，现在这句话我是信的233333） 第二篇文章终于写完了，差不多就这样吧。下篇文章再见！ (写点什么好呢。。。。)","categories":[{"name":"Guide","slug":"Guide","permalink":"/categories/Guide/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"/tags/Linux/"},{"name":"系统安装","slug":"系统安装","permalink":"/tags/系统安装/"}]},{"title":"删除优盘病毒の不完全教程","slug":"how-to-remove-virus-from-udisk","date":"2018-11-28T20:41:53.000Z","updated":"2018-11-29T09:23:06.025Z","comments":true,"path":"2018/11/29/how-to-remove-virus-from-udisk/","link":"","permalink":"/2018/11/29/how-to-remove-virus-from-udisk/","excerpt":"今天去打印店打印东西。回来后发现自己的优盘又中病毒了。。。。（等等，我为什么说又。。。）既然中毒了，那么就得清理一下。。。。。","text":"今天去打印店打印东西。回来后发现自己的优盘又中病毒了。。。。（等等，我为什么说又。。。）既然中毒了，那么就得清理一下。。。。。 将资源管理器设置成显示所有文件 打开我的电脑&gt;&gt;查看&gt;&gt;选项 在打开的文件夹选项中取消“隐藏受保护的系统文件(推荐)”并选择“显示所有文件和文件夹” 删除病毒 右击打开被感染的优盘，一定要右击，防止中病毒 将快捷方式删除掉，还有那个病毒.exe 将文件夹及文件设置成可见 在打开的盘界面中按住shift键右击，选择在“此处打开命令窗口/powershell” 输入以下命令 1attrib * -s -h -r -a /D 至此，优盘的病毒就会清理干净了。 注意事项 优盘不要直接打开，不要直接打开，不要直接打开。 优盘一定要点击右键&gt;&gt;打开 如果电脑不小心中毒，最好重装系统，360什么的杀不净的。 后记一直想要出一个怎么清理优盘病毒的教程，毕竟学校是这种东西的高发区。。。但是我总是遇不到。。。 其实这两天想要填一下坑的，谁知道半路杀出一个程咬金。不过也好把这个教程出了。。 继续填坑去了","categories":[{"name":"Guide","slug":"Guide","permalink":"/categories/Guide/"}],"tags":[{"name":"优盘","slug":"优盘","permalink":"/tags/优盘/"},{"name":"删除病毒","slug":"删除病毒","permalink":"/tags/删除病毒/"}]},{"title":"Hello World","slug":"hello-world","date":"2018-11-25T08:52:48.673Z","updated":"2019-02-16T12:16:03.714Z","comments":true,"path":"2018/11/25/hello-world/","link":"","permalink":"/2018/11/25/hello-world/","excerpt":"你好，欢迎来到我的小站在这里我将会不定期更新一些教程，一些翻车时刻，还有一些杂七杂八的东西 请使用IE，360极速浏览器访问的同学或使用较低操作系统版本的同学移步Chrome或Firefox。 部分素材来自互联网，如有侵权请与fzx172@126.com联系删除！","text":"你好，欢迎来到我的小站在这里我将会不定期更新一些教程，一些翻车时刻，还有一些杂七杂八的东西 请使用IE，360极速浏览器访问的同学或使用较低操作系统版本的同学移步Chrome或Firefox。 部分素材来自互联网，如有侵权请与fzx172@126.com联系删除！ 下面便是填坑时间了，慢慢填坑中。。。。。。 关于这不是lD ，一所普普通通的大学中的一名普普通通的大二医学狗。 喜欢折腾电脑，肥宅一枚，休伯利安洗甲工一枚。 日常咸鱼，有时折腾，时常翻车。 本站使用Material X作为主题，喜欢这个主题的朋友可以阅读文档进行安装哦。","categories":[{"name":"Others","slug":"Others","permalink":"/categories/Others/"}],"tags":[{"name":"置顶","slug":"置顶","permalink":"/tags/置顶/"},{"name":"欢迎","slug":"欢迎","permalink":"/tags/欢迎/"}]}]}